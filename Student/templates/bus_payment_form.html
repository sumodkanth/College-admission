<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>
<body>
    {% extends 'studentindex.html' %}
    {% load static %}
    {% block content %}
    <section class="p-1 p-md-1">
        <div class="row d-flex justify-content-center">
            <div class="col-md-6 col-lg-8 col-xl-5">
                <div class="card rounded-5">
                    <div class="card-body p-4" style="background-color: gray;">
                        <div class="text-center mb-4">
                            <h3 style="color: black;">PAYMENT GATEWAY</h3>
                        </div>
                        <form id="paymentForm" method="post" action="">
                            {% csrf_token %}
                            <div class="card-types">
                                <label class="card-type">
                                    <input type="radio" name="card_type" value="mastercard" checked>
                                    <img src="{% static 'images/mastercard.png' %}" alt="Mastercard" style="width: 200px; height: 180px;">
                                </label>
                                <label class="card-type">
                                    <input type="radio" name="card_type" value="visa" required>
                                    <img src="{% static 'images/visa.png' %}" alt="Visa" style="width: 200px; height: 100px;">
                                </label>
                            </div>
                            <div class="form-outline mb-4">
                                <div class="border rounded-3 text-white py-2 px-3">
                                    {{booking.bus_fair}}
                                    <input type="hidden" id="payable_amount" name="payable_amount" value="{{booking.bus_fair}}">
                                </div>
                                <label class="form-label"  style="color: black;">Advance Bus Fair to be paid</label>
                            </div>
                            <div class="form-outline mb-4">
                              <input class="form-control form-control-lg" type="text" id="cardholder_name" name="cardholder_name"
                                     style="border: 1px solid black; color: white;" placeholder="Rosa Davis" maxlength="25"
                                     pattern="[A-Za-z\s]+" required oninput="this.value = this.value.replace(/[^A-Za-z\s]/g, '')">
                              <label class="form-label" for="cardholder_name" style="color: black;">Cardholder's Name</label>
                              <div class="invalid-feedback">Please enter a valid name.</div>
                            </div>


                            <div class="row mb-4">
                                <div class="col-7">
                                    <div class="form-outline">
                                        <input class="form-control form-control-lg" type="text" id="card_number" name="card_number" style="border: 1px solid black; color: white;" placeholder="1111 2222 3333 4444" required maxlength="16"   pattern="[0-9]{16}" oninput="this.value = this.value.replace(/[^0-9]/g, '')" title="Please enter a 16-digit card number">
                                        <label class="form-label" for="card_number" style="color: black;">Card Number</label>
                                        <div class="invalid-feedback">Please enter a valid 16-digit card number.</div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="form-outline">
                                        <input class="form-control form-control-lg" type="text" id="expiration_date" name="expiration_date" style="border: 1px solid black; color: white;" placeholder="MM/YY" required maxlength="5" pattern="\d{2}/\d{2}" oninput="this.value = this.value.replace(/[^0-9]/g, '')" title="Enter date in MM/YY format">
                                        <label class="form-label" for="expiration_date" style="color: black;">Expire</label>
                                        <div class="invalid-feedback">Please enter a valid expiration date (MM/YY).</div>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <div class="form-outline">
                                        <input class="form-control form-control-lg" type="text" id="cvv" name="cvv" style="border: 1px solid black; color: white;" placeholder="CVV" required maxlength="3" pattern="[0-9]{3}" oninput="this.value = this.value.replace(/[^0-9]/g, '')" title="Please enter a 3-digit CVV">
                                        <label class="form-label" for="cvv" style="color: black;">CVV</label>
                                        <div class="invalid-feedback">Please enter a valid 3-digit CVV.</div>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-danger btn-lg btn-block">Proceed to payment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.5/inputmask.min.js"></script>
    <script>

        {% if show_alert %}
            swal('Payment done successfully!', '', 'success');
        {% endif %}
    </script>
</body>
</html>
